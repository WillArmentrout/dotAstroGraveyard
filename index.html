<!DOCTYPE HTML>
<!--
	Urban by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>.Astronomy Hack Graveyard</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />

		<script src="assets/js/jquery.min.js"></script>

		<script>

		function display_random_hack(hack) {
			// parse out the fields
			hack_fields = hack.split(',');
			ShortDescription = hack_fields[0];
			LongDescription = hack_fields[1];
			WhichConference = hack_fields[2];
			AuthorName = hack_fields[3];
			TwitterHandle = hack_fields[4];
			Link = hack_fields[5];
			TweetLink = hack_fields[6];

			// update the html
			$('h1').hide().html(ShortDescription).fadeIn('slow');
			$('.LongDescription').hide().html(LongDescription).fadeIn('slow');
			$('.WhichConference').hide().html(WhichConference).fadeIn('slow');

			if (TwitterHandle) {
				$('.TwitterHandle').hide().html(TwitterHandle).fadeIn('slow');
			} else if (AuthorName) {
				$('.TwitterHandle').hide().html(AuthorName).fadeIn('slow');
			} else {
				$('.TwitterHandle').hide().html('Unknown').fadeIn('slow');
			}

		}

		function get_random_hack(hack_data) {
				hack_count = hack_data.length
				random = Math.floor(Math.random() * hack_count) + 1
				return hack_data[random];
			}

	  $(function() {
			// read in the hack data on page load
			$.ajax({
					type: "GET",
					url: "hacks.csv",
					dataType: "text",
					success: function(data) {
						hack_data = data.split("\n");
						hack = get_random_hack(hack_data);
						display_random_hack(hack);
					}
			 });

			 $('a.button.big.scrolly').click(function() {
	 			hack = get_random_hack(hack_data);
				display_random_hack(hack);
	 			return false;
	 		});

	  });  // ready

	  </script>

	</head>
	<body>
		<!-- Header -->
			<header id="header" class="alt">
        <div class="logo"><a href="https://www.dotastronomy.com/">.Astronomy</a> <a href="https://github.com/WillArmentrout/dotAstroGraveyard/blob/master/hacks.csv"><span>Hack Ideas Graveyard</span></a>
        </div>
			</header>

		<!-- Nav -->
		<!--	<nav id="menu">
				<ul class="links">
					<li><a href="index.html">Home</a></li>
					<li><a href="generic.html">Generic</a></li>
					<li><a href="elements.html">Elements</a></li>
				</ul>
			</nav>-->

		<!-- Banner -->
			<section id="banner">
				<div class="inner">
					<header>
						<h1>arXiv Twitter Handles </h1>
						<p class = "LongDescription"></p>
            <p><span class = "">Pitched at</span>
							 <span class = "WhichConference"></span> by
							 <span class = "TwitterHandle"></span>
						</p>

					</header>
					<a href="" class="button big scrolly">Next Grave</a>
				</div>

			</section>

		<!-- Main -->
			<div id="main">
			</div>


		<!-- Footer -->
			<footer id="footer">
				<div class="copyright">
					<ul class="icons">
						<li><a href="https://github.com/WillArmentrout/dotAstroGraveyard" class="icon fa-github"><span class="label">GitHub</span></a></li>
					</ul>
					<p>Made with love at .Astronomy9. Design: <a href="https://templated.co">TEMPLATED</a></p>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
